-- CREACIÓN DE TABLAS ASIGNATURAS14 Y ALUMNOS14
-- Se crearán con clave.
-- ANTES DE CREARLAS SE BORRARÁN

DROP TABLE ASIGNATURAS14 CASCADE CONSTRAINTS;

CREATE TABLE ASIGNATURAS14
( COD_ASIG NUMBER(2) PRIMARY KEY,
  NOM_ASIG  VARCHAR2(20)
);

DROP TABLE ALUMNOS14 CASCADE CONSTRAINTS;
CREATE  TABLE ALUMNOS14
(
  NOM_ALUM VARCHAR2(20) NOT NULL,
  COD_ASIG NUMBER(2) NOT NULL,
  NOTA  NUMBER(2),
  CONSTRAINT PK_ALUM PRIMARY KEY(NOM_ALUM, COD_ASIG),
  CONSTRAINT FK_ALUM FOREIGN KEY(COD_ASIG) REFERENCES ASIGNATURAS14
);

-- LLENO ASIGNATURAS:

INSERT INTO ASIGNATURAS14 VALUES(1,'INFORMÁTICA');
INSERT INTO ASIGNATURAS14 VALUES(2,'MATEMÁTICAS');
INSERT INTO ASIGNATURAS14 VALUES(3,'FÍSICA');
INSERT INTO ASIGNATURAS14 VALUES(4,'LENGUA');
INSERT INTO ASIGNATURAS14 VALUES(5,'FRANCÉS');
INSERT INTO ASIGNATURAS14 VALUES(6,'INGLÉS');
INSERT INTO ASIGNATURAS14 VALUES(7,'HISTORIA');
INSERT INTO ASIGNATURAS14 VALUES(8,'BIOLOGÍA');
INSERT INTO ASIGNATURAS14 VALUES(9,'GEOLOGÍA');
INSERT INTO ASIGNATURAS14 VALUES(10,'ED. FÍSICA');

Commit;

INSERT INTO ALUMNOS14 VALUES('JUAN',1,7);
INSERT INTO ALUMNOS14 VALUES('JUAN',2,6);
INSERT INTO ALUMNOS14 VALUES('JUAN',3,8);
INSERT INTO ALUMNOS14 VALUES('JUAN',4,9);

INSERT INTO ALUMNOS14 VALUES('PEPE',3,5);
INSERT INTO ALUMNOS14 VALUES('PEPE',4,6);
INSERT INTO ALUMNOS14 VALUES('PEPE',6,9);
INSERT INTO ALUMNOS14 VALUES('PEPE',2,7);

INSERT INTO ALUMNOS14 VALUES('ANA',1,8);
INSERT INTO ALUMNOS14 VALUES('ANA',2,9);
INSERT INTO ALUMNOS14 VALUES('ANA',5,8);
INSERT INTO ALUMNOS14 VALUES('ANA',6,7);

INSERT INTO ALUMNOS14 VALUES('PEPA',3,4);
INSERT INTO ALUMNOS14 VALUES('PEPA',6,8);
INSERT INTO ALUMNOS14 VALUES('PEPA',7,9);

Commit;

REM **************************************
REM ******** TABLA DEPART: ***********

DROP TABLE DEPART cascade constraints; 

CREATE TABLE DEPART (
 DEPT_NO  NUMBER(2) PRIMARY KEY,
 DNOMBRE  VARCHAR2(14), 
 LOC      VARCHAR2(14) ) ;

INSERT INTO DEPART VALUES (10,'CONTABILIDAD','SEVILLA');
INSERT INTO DEPART VALUES (20,'INVESTIGACION','MADRID');
INSERT INTO DEPART VALUES (30,'VENTAS','BARCELONA');
INSERT INTO DEPART VALUES (40,'PRODUCCION','BILBAO');
COMMIT;


REM ******** TABLA EMPLE: *************

ALTER SESSION SET NLS_DATE_FORMAT='DD/MM/YYYY';

DROP TABLE EMPLE cascade constraints; 

CREATE TABLE EMPLE (
 EMP_NO    NUMBER(4) PRIMARY KEY,
 APELLIDO  VARCHAR2(10)  ,
 OFICIO    VARCHAR2(10)  ,
 DIR       NUMBER(4) ,
 FECHA_ALT DATE      ,
 SALARIO   NUMBER(7),
 COMISION  NUMBER(7),
 DEPT_NO   NUMBER(2) NOT NULL REFERENCES DEPART) ;

INSERT INTO EMPLE VALUES (7369,'SANCHEZ','EMPLEADO',7902,'17/12/1990',
                        1040,NULL,20);
INSERT INTO EMPLE VALUES (7499,'ARROYO','VENDEDOR',7698,'20/02/1990',
                        1500,390,30);
INSERT INTO EMPLE VALUES (7521,'SALA','VENDEDOR',7698,'22/02/1991',
                        1625,650,30);
INSERT INTO EMPLE VALUES (7566,'JIMENEZ','DIRECTOR',7839,'02/04/1991',
                        2900,NULL,20);
INSERT INTO EMPLE VALUES (7654,'MARTIN','VENDEDOR',7698,'29/09/1991',
                        1600,1020,30);
INSERT INTO EMPLE VALUES (7698,'NEGRO','DIRECTOR',7839,'01/05/1991',
                        3005,NULL,30);
INSERT INTO EMPLE VALUES (7782,'CEREZO','DIRECTOR',7839,'09/06/1991',
                        2885,NULL,10);
INSERT INTO EMPLE VALUES (7788,'GIL','ANALISTA',7566,'09/11/1991',
                        3000,NULL,20);
INSERT INTO EMPLE VALUES (7839,'REY','PRESIDENTE',NULL,'17/11/1991',
                        4100,NULL,10);
INSERT INTO EMPLE VALUES (7844,'TOVAR','VENDEDOR',7698,'08/09/1991',
                        1350,0,30);
INSERT INTO EMPLE VALUES (7876,'ALONSO','EMPLEADO',7788,'23/09/1991',
                        1430,NULL,20);
INSERT INTO EMPLE VALUES (7900,'JIMENO','EMPLEADO',7698,'03/12/1991',
                        1335,NULL,30);
INSERT INTO EMPLE VALUES (7902,'FERNANDEZ','ANALISTA',7566,'03/12/1991',
                        3000,NULL,20);
INSERT INTO EMPLE VALUES (7934,'MUÑOZ','EMPLEADO',7782,'23/01/1992',
                        1690,NULL,10);

COMMIT;
REM *****************TABLAS HOSPTAL, SALA, PLANTILLA******************
REM  ****************** TABLA HOSPITAL

DROP TABLE HOSPITAL CASCADE CONSTRAINTS; 

CREATE TABLE HOSPITAL (
 HOSPITAL_COD    NUMBER(2) PRIMARY KEY,
 NOMBRE          VARCHAR2(12) ,
 DIRECCION       VARCHAR2(20) ,
 TELEFONO        VARCHAR2(10) ,
 NUM_CAMAS        NUMBER(4));

INSERT INTO HOSPITAL VALUES (13,'Provincial', 'O Donell 50', '964-426400',502);
INSERT INTO HOSPITAL VALUES (18,'General', 'Atocha s/n', '595-311122',987);
INSERT INTO HOSPITAL VALUES (22,'La Paz', 'Castellana 1000', '923-541134',412);
INSERT INTO HOSPITAL VALUES (45,'San Carlos', 'Ciudad Universitaria', '597-150090',845);


REM  ****************** TABLA PLANTILLA
DROP TABLE PLANTILLA cascade constraints; 

CREATE TABLE PLANTILLA (
 HOSPITAL_COD  NUMBER(2) NOT NULL,
 SALA_COD  NUMBER(2),
 EMPLEADO_NO  NUMBER(4),
 APELLIDO CHAR(16),
 FUNCION CHAR(10),
 TURNO CHAR(1),
 SALARIO NUMBER (5));

INSERT INTO PLANTILLA VALUES (13,6,3754,'Díaz B.','Enfermera','T',1362);
INSERT INTO PLANTILLA VALUES (13,6,3106,'Hernández J.','Enfermero','T',1450);
INSERT INTO PLANTILLA VALUES (18,4,6357,'Karplus W.','Interno','T',2009);
INSERT INTO PLANTILLA VALUES (22,6,1009,'Higueras D.','Enfermera','T',2005);
INSERT INTO PLANTILLA VALUES (22,6,8422,'Bocina G.','Enfermero','M',1200);
INSERT INTO PLANTILLA VALUES (22,2,9901,'Nuñez C.','Interno','M',1300);
INSERT INTO PLANTILLA VALUES (22,1,6065,'Rivera G.','Enfermera','N',1006);
INSERT INTO PLANTILLA VALUES (22,1,7379,'Carlos R.','Enfermera','T',1200);
INSERT INTO PLANTILLA VALUES (45,4,1280,'Amigo R.','Interno','N',1250);
INSERT INTO PLANTILLA VALUES (45,1,8526,'Frank H.','Enfermero','T',1300);
INSERT INTO PLANTILLA VALUES (45,2,8526,'Petra H.','Enfermera','T',1345);
INSERT INTO PLANTILLA VALUES (45,1,8526,'Juana Mar.','Enfermera','T',1322);

REM  ****************** TABLA SALA

DROP TABLE SALA CASCADE CONSTRAINTS; 

CREATE TABLE SALA (
 HOSPITAL_COD    NUMBER(2) NOT NULL,
 SALA_COD        NUMBER(2) NOT NULL,
 NOMBRE          VARCHAR2(20),
 NUM_CAMA        NUMBER(4));

INSERT INTO SALA VALUES (13,3, 'Cuidados intensivos',21);
INSERT INTO SALA VALUES (13,6, 'Psiquiátrico', 67);
INSERT INTO SALA VALUES (18,3, 'Cuidados intensivos',10);
INSERT INTO SALA VALUES (18,4, 'Cardiología', 53);
INSERT INTO SALA VALUES (22,1, 'Recuperación', 10);
INSERT INTO SALA VALUES (22,6, 'Psiquiátrico', 118);
INSERT INTO SALA VALUES (22,2, 'Maternidad', 34);
INSERT INTO SALA VALUES (45,4, 'Cardiología', 55);
INSERT INTO SALA VALUES (45,1, 'Recuperación', 13);
INSERT INTO SALA VALUES (45,2, 'Maternidad',24);



Commit;
